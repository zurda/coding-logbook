(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},25:function(e,t,a){e.exports=a(64)},48:function(e,t,a){},50:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},59:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),i=a.n(r),o=a(4),c=a(5),s=a(7),u=a(6),d=a(8),p=a(10),m=a.n(p),h=(a(48),a(68)),f=a(67),g=(a(50),a(66)),E=function(){return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"icons"},l.a.createElement("a",{href:"https://github.com/zurda"},l.a.createElement("i",{className:"fab fa-github fa-2x"})),l.a.createElement("a",{href:"https://twitter.com/zurdev"},l.a.createElement("i",{className:"fab fa-twitter fa-2x"})),l.a.createElement("a",{href:"https://www.linkedin.com/in/zurda/"},l.a.createElement("i",{className:"fab fa-linkedin fa-2x"})),l.a.createElement("div",{className:"links"},l.a.createElement(g.a,{to:"/",className:"link-btn"},"home"),l.a.createElement(g.a,{to:"/add-post",className:"link-btn"},"Add post"),l.a.createElement(g.a,{to:"/login",className:"link-btn"},"Log in"),l.a.createElement(g.a,{to:"/signup",className:"link-btn"},"Signup"))),l.a.createElement("h1",null,"Coding Logbook"),l.a.createElement("h3",null,"Never loose a reference!"))},b=(a(54),function(e){var t=e.post;return l.a.createElement("div",{className:"post",key:t._id},l.a.createElement("h3",null,t.title,l.a.createElement("button",{className:"edit-icon",onClick:function(){return e.editPostHandler(t._id)}},l.a.createElement("i",{className:"fas fa-edit"})),l.a.createElement("button",{className:"delete-icon",onClick:function(){return e.handleDelete(t._id)}},l.a.createElement("i",{className:"far fa-trash-alt"}))),l.a.createElement("span",null,t.createdAt.slice(0,10)),l.a.createElement("p",null,t.message),l.a.createElement("div",null,l.a.createElement("pre",{className:"code"},t.code),l.a.createElement("p",null,l.a.createElement("a",{href:t.originUrl},"Origin")),t.labels.length>0&&l.a.createElement("ul",{className:"labels"},t.labels.map(function(e){return l.a.createElement("li",{key:e},e)}))))}),v=a(23),y=(a(56),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(v.a)({},a.props.post),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"edit-form"},l.a.createElement("h3",null,"Edit this log"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",value:this.state.title,className:"input-field",onChange:function(t){return e.setState({title:t.target.value})},placeholder:"add title"}),l.a.createElement("textarea",{type:"text",value:this.state.message,className:"input-field",onChange:function(t){return e.setState({message:t.target.value})},placeholder:"add post",style:{dheight:"60px"}}),l.a.createElement("textarea",{type:"text/javascript",value:this.state.code||"",className:"input-field",onChange:function(t){return e.setState({code:t.target.value})},placeholder:"add code",style:{height:"60px"}}),l.a.createElement("input",{type:"text",value:this.state.originalUrl,className:"input-field",onChange:function(t){return e.setState({originUrl:t.target.value})},placeholder:"add link"}),l.a.createElement("input",{type:"text",value:this.state.labels.join(","),className:"input-field",onChange:function(t){return e.setState({labels:t.target.value.split(",")})},placeholder:"add labels"}),l.a.createElement("div",{className:"radio"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",value:"public",checked:!0===this.state.isPublic,onChange:function(t){return e.setState({isPublic:t.target.value})}}),"Public")),l.a.createElement("div",{className:"radio"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",value:"private",checked:!1===this.state.isPublic,onChange:function(t){return e.setState({isPublic:t.target.value})}}),"Private")),l.a.createElement("div",{className:"edit-action"},l.a.createElement("button",{type:"submit",onClick:function(){return e.props.cancelPostEdit(e.state._id)}},"Cancel"),l.a.createElement("button",{type:"submit",onClick:function(){return e.props.handleUpdate(e.state)}},"Update")))}}]),t}(n.Component)),N="https://backend-code-logbook.herokuapp.com",w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],postsToEdit:[],intervalIsSet:!1,action:""},a.getDataFromDb=function(){m()({url:"".concat(N,"/api/entries"),method:"get",withCredentials:!0}).then(function(e){return a.setState({data:e.data.data})})},a.editPostHandler=function(e){var t=a.state.postsToEdit;t.push(e),a.setState({postsToEdit:t})},a.cancelPostEdit=function(e){var t=a.state.postsToEdit.filter(function(t){return t!==e});a.setState({postsToEdit:t})},a.handleDelete=function(e){m()({url:"".concat(N,"/api/entry"),method:"delete",data:{id:e},withCredentials:!0,name:"",parts:""}).then(function(e){console.log(e)}).catch(function(e){console.log(e.response)})},a.handleUpdate=function(e){m()({url:"".concat(N,"/api/updateData"),method:"post",data:e,withCredentials:!0}).then(function(t){a.cancelPostEdit(e._id)}).catch(function(e){console.log(e.response)})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var e=setInterval(this.getDataFromDb,3e4);this.setState({intervalIsSet:e})}}},{key:"componentWillUnmount",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:"render",value:function(){var e=this,t=this.state.data;return l.a.createElement("div",null,t.length<1?"No posts to display":t.map(function(t){return e.state.postsToEdit.includes(t._id)?l.a.createElement(y,{key:t._id,post:t,handleDelete:e.handleDelete,postsToEdit:e.state.postsToEdit,editPostHandler:e.editPostHandler,cancelPostEdit:e.cancelPostEdit,handleUpdate:e.handleUpdate}):l.a.createElement(b,{key:t._id,post:t,handleDelete:e.handleDelete,postsToEdit:e.postsToEdit,editPostHandler:e.editPostHandler})}))}}]),t}(n.Component),k=(a(14),"https://backend-code-logbook.herokuapp.com"),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",message:"",code:"",originUrl:null,labels:[],isPublic:"public"},a.newPostSubmit=function(){var e=a.state,t=e.title,n=e.message,l=e.code,r=e.originUrl,i=e.labels,o=e.isPublic;m()({url:"".concat(k,"/api/putData"),method:"post",data:{message:n,title:t,code:l,originUrl:r,labels:i,isPublic:o},withCredentials:!0}).then(function(e){e.data.success?a.handleRedirect(Object({NODE_ENV:"production",PUBLIC_URL:"/coding-logbook",REACT_APP_BACKEND_URL:"https://backend-code-logbook.herokuapp.com"}).REACT_APP_HOME_URL+"/"):console.log("PROBLEM WITH INPUTS")}).catch(function(e){console.log(e)})},a.handleRedirect=function(e){window.location.href=e},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"input add"},l.a.createElement("div",{className:"form"},l.a.createElement("h2",null,"Add a Log"),l.a.createElement("input",{type:"text",className:"input-field",onChange:function(t){return e.setState({title:t.target.value})},placeholder:"add title"}),l.a.createElement("textarea",{type:"text",className:"input-field",onChange:function(t){return e.setState({message:t.target.value})},placeholder:"add post",style:{dheight:"60px"}}),l.a.createElement("textarea",{type:"text/javascript",className:"input-field",onChange:function(t){return e.setState({code:t.target.value})},placeholder:"add code",style:{height:"60px"}}),l.a.createElement("input",{type:"text",className:"input-field",onChange:function(t){return e.setState({originUrl:t.target.value})},placeholder:"add link"}),l.a.createElement("input",{type:"text",className:"input-field",onChange:function(t){return e.setState({labels:t.target.value.split(",")})},placeholder:"add labels"}),l.a.createElement("div",{className:"radio"},l.a.createElement("label",{className:"radio-btn"},l.a.createElement("input",{type:"radio",value:"public",checked:"public"===this.state.isPublic,onChange:function(t){return e.setState({isPublic:t.target.value})}}),"Public"),l.a.createElement("label",{className:"radio-btn"},l.a.createElement("input",{type:"radio",value:"private",checked:"private"===this.state.isPublic,onChange:function(t){return e.setState({isPublic:t.target.value})}}),"Private")),l.a.createElement("button",{type:"submit",onClick:function(){return e.newPostSubmit()}},"Add a Log")))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:null,username:null,password:null,passwordConf:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"form"},l.a.createElement("h2",null,"Add a User"),l.a.createElement("input",{type:"text",className:"input-field",onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Email"}),l.a.createElement("input",{type:"text",className:"input-field",onChange:function(t){return e.setState({username:t.target.value})},placeholder:"Username"}),l.a.createElement("input",{type:"password",className:"input-field",onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Password"}),l.a.createElement("input",{type:"password",className:"input-field",onChange:function(t){return e.setState({passwordConf:t.target.value})},placeholder:"Repeat Password"}),l.a.createElement("button",{type:"submit",onClick:function(){return e.props.handleSignup(e.state)}},"Add a User"))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={logemail:null,logpassword:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"form"},l.a.createElement("h2",null,"Login"),l.a.createElement("input",{type:"text",className:"input-field",onChange:function(t){return e.setState({logemail:t.target.value})},placeholder:"Email"}),l.a.createElement("input",{type:"password",className:"input-field",onChange:function(t){return e.setState({logpassword:t.target.value})},placeholder:"Password"}),l.a.createElement("button",{type:"submit",onClick:function(){return e.props.handleLogin(e.state)}},"Login"))}}]),t}(n.Component),O=(a(59),function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"text"},l.a.createElement("p",null,"Created by"," ",l.a.createElement("a",{href:"https://zurda.github.io/portfolio/",target:"_blank",rel:"noopener noreferrer"},"Michal Weizman"),l.a.createElement("br",null),"This site code is available on"," ",l.a.createElement("a",{href:"https://github.com/zurda/coding-logbook",target:"_blank",rel:"noopener noreferrer"},"Github"))))}),j="https://backend-code-logbook.herokuapp.com",x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleSignup=function(e){var t=e.email,n=e.username,l=e.password,r=e.passwordConf;l!==r?alert("Passwords don't match"):t&&n&&l&&r?m()({url:"".concat(j,"/api/putUser"),method:"post",data:{email:t,username:n,password:l,passwordConf:r},withCredentials:!0}).then(function(e){a.setState({action:""}),a.handleRedirect("/login")}).catch(function(e){console.log(e.response)}):alert("Please fill in all fields")},a.handleLogin=function(e){var t=e.logemail,n=e.logpassword;t&&n?m()({url:"".concat(j,"/api/loginUser"),method:"post",data:{logemail:t,logpassword:n},withCredentials:!0}).then(function(e){e.data.success?(a.setState({auth:e.data.auth}),a.setState({action:""}),console.log("LOGIN SUCCESSFUL"),a.handleRedirect("/")):console.log("PROBLEM WITH LOGIN")}).catch(function(e){console.log(e.response)}):alert("Please fill in all fields")},a.handleRedirect=function(e){window.location.href=e},a.actionBtn=function(e){e||a.setState({action:""}),a.setState({action:e.target.className})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(E,null),l.a.createElement("div",{className:"main"},l.a.createElement(f.a,{exact:!0,path:"/",component:w}),l.a.createElement(f.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(P,{handleLogin:e.handleLogin})}}),l.a.createElement(f.a,{exact:!0,path:"/signup",render:function(){return l.a.createElement(S,{handleSignup:e.handleSignup})}}),l.a.createElement(f.a,{exact:!0,path:"/add-post",component:C})),l.a.createElement(O,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.1c15e5fb.chunk.js.map